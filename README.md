# CertD

CertD æ˜¯ä¸€ä¸ªå…è´¹å…¨è‡ªåŠ¨ç”³è¯·å’Œéƒ¨ç½²SSLè¯ä¹¦çš„å·¥å…·ã€‚       
åç¼€Då–è‡ªlinuxå®ˆæŠ¤è¿›ç¨‹çš„å‘½åé£æ ¼ï¼Œæ„ä¸ºè¯ä¹¦å®ˆæŠ¤è¿›ç¨‹ã€‚    

## ä¸€ã€ç‰¹æ€§
æœ¬é¡¹ç›®ä¸ä»…æ”¯æŒè¯ä¹¦ç”³è¯·è¿‡ç¨‹è‡ªåŠ¨åŒ–ï¼Œè¿˜å¯ä»¥è‡ªåŠ¨åŒ–éƒ¨ç½²è¯ä¹¦ï¼Œè®©ä½ çš„è¯ä¹¦æ°¸ä¸è¿‡æœŸã€‚     

* å…¨è‡ªåŠ¨ç”³è¯·è¯ä¹¦ï¼ˆæ”¯æŒé˜¿é‡Œäº‘ã€è…¾è®¯äº‘ã€åä¸ºäº‘ã€Cloudflareæ³¨å†Œçš„åŸŸåï¼‰
* å…¨è‡ªåŠ¨éƒ¨ç½²è¯ä¹¦ï¼ˆç›®å‰æ”¯æŒæœåŠ¡å™¨ä¸Šä¼ éƒ¨ç½²ã€éƒ¨ç½²åˆ°é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ç­‰ï¼‰
* æ”¯æŒé€šé…ç¬¦åŸŸå
* æ”¯æŒå¤šä¸ªåŸŸåæ‰“åˆ°ä¸€ä¸ªè¯ä¹¦ä¸Š
* é‚®ä»¶é€šçŸ¥
* è¯ä¹¦è‡ªåŠ¨æ›´æ–°
* å…è´¹ã€å…è´¹ã€å…è´¹ï¼ˆ[é˜¿é‡Œäº‘å•ä¸ªé€šé…ç¬¦åŸŸåè¯ä¹¦æœ€ä¾¿å®œä¹Ÿè¦1800/å¹´](https://yundun.console.aliyun.com/?p=cas#/certExtend/buy/cn-hangzhou)ï¼‰



## äºŒã€åœ¨çº¿ä½“éªŒ

å®˜æ–¹Demoåœ°å€ï¼Œè‡ªåŠ©æ³¨å†Œåä½“éªŒ    

https://certd.handsfree.work/

> æ³¨æ„æ•°æ®å°†ä¸å®šæœŸæ¸…ç†ï¼Œç”Ÿäº§ä½¿ç”¨è¯·è‡ªè¡Œéƒ¨ç½²    
> åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼ŒåŠ¡å¿…è‡ªå·±æœ¬åœ°éƒ¨ç½²è¿›è¡Œç”Ÿäº§ä½¿ç”¨

## ä¸‰ã€ä½¿ç”¨æ•™ç¨‹
æœ¬æ¡ˆä¾‹æ¼”ç¤ºï¼Œå¦‚ä½•é…ç½®è‡ªåŠ¨ç”³è¯·è¯ä¹¦ï¼Œå¹¶éƒ¨ç½²åˆ°é˜¿é‡Œäº‘CDNï¼Œç„¶åå¿«è¦åˆ°æœŸå‰è‡ªåŠ¨æ›´æ–°è¯ä¹¦å¹¶é‡æ–°éƒ¨ç½²     

![æ¼”ç¤º](./doc/images/5-view.png)
![æ¼”ç¤º](./doc/images/9-start.png)
![æ¼”ç¤º](./doc/images/10-1-log.png)
![æ¼”ç¤º](./doc/images/13-3-download.png)
![æ¼”ç¤º](./doc/images/13-1-result.png)

â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“      
-------> [ç‚¹æˆ‘æŸ¥çœ‹è¯¦ç»†ä½¿ç”¨æ­¥éª¤æ¼”ç¤º](./step.md)   <--------      
â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘     

## å››ã€æœ¬åœ°dockeréƒ¨ç½²

### 1. å®‰è£…dockerã€docker-compose

1.1 å‡†å¤‡ä¸€å°äº‘æœåŠ¡å™¨
* ã€é˜¿é‡Œäº‘ã€‘äº‘æœåŠ¡å™¨2æ ¸2Gï¼Œæ–°è€ç”¨æˆ·åŒäº«ï¼Œ99å…ƒ/å¹´ï¼Œç»­è´¹åŒä»·ï¼ã€ [ç«‹å³è´­ä¹°](https://www.aliyun.com/benefit?scm=20140722.M_10244282._.V_1&source=5176.11533457&userCode=qya11txb )ã€‘
* ã€è…¾è®¯äº‘ã€‘äº‘æœåŠ¡å™¨2æ ¸2Gï¼Œæ–°è€ç”¨æˆ·åŒäº«ï¼Œ99å…ƒ/å¹´ï¼Œç»­è´¹åŒä»·ï¼ã€ [ç«‹å³è´­ä¹°](https://cloud.tencent.com/act/cps/redirect?redirect=6094&cps_key=b3ef73330335d7a6efa4a4bbeeb6b2c9&from=console)ã€‘
  

1.2 å®‰è£…docker    
https://docs.docker.com/engine/install/
é€‰æ‹©å¯¹åº”çš„æ“ä½œç³»ç»Ÿï¼ŒæŒ‰ç…§å®˜æ–¹æ–‡æ¡£æ‰§è¡Œå‘½ä»¤å³å¯


### 2. ä¸‹è½½docker-compose.yamlæ–‡ä»¶

[docker-compose.yamlä¸‹è½½](https://gitee.com/certd/certd/raw/v2/docker/run/docker-compose.yaml)

```bash
mkdir certd
cd certd
# wgetä¸‹è½½docker-compose.yamlæ–‡ä»¶
wget https://raw.githubusercontent.com/certd/certd/v2/docker/run/docker-compose.yaml
# æˆ–è€…ä½¿ç”¨giteeåœ°å€
wget https://gitee.com/certd/certd/raw/v2/docker/run/docker-compose.yaml

# æ ¹æ®éœ€è¦ä¿®æ”¹é‡Œé¢çš„é…ç½®
# 1.ä¿®æ”¹é•œåƒç‰ˆæœ¬å·ã€å¯é€‰ã€‘
# 2.é…ç½®æ•°æ®ä¿å­˜è·¯å¾„ã€å¯é€‰ã€‘
# 3.é…ç½®certd_auth_jwt_secretã€å¿…é¡»ã€‘
vi docker-compose.yaml


```
> é•œåƒç‰ˆæœ¬å·ä¸releaseç‰ˆæœ¬å·åŒæ­¥ï¼š    
https://github.com/certd/certd/releases


### 3. è¿è¡Œ
```bash
# å¦‚æœdocker composeæ˜¯æ’ä»¶åŒ–å®‰è£…
export CERTD_VERSION=latest
docker compose up -d
```
å¦‚æœæç¤º æ²¡æœ‰composeå‘½ä»¤,è¯·å®‰è£…docker-compose   
https://docs.docker.com/compose/install/linux/



### 4. è®¿é—®

http://your_server_ip:7001 
é»˜è®¤è´¦å·å¯†ç ï¼šadmin/123456 
è®°å¾—ä¿®æ”¹å¯†ç 


### 5. å‡çº§

* ä¿®æ”¹ç‰ˆæœ¬å·ï¼Œé‡æ–°è¿è¡Œ `docker compose up -d` å³å¯
* æ•°æ®å­˜åœ¨`/data/certd`ç›®å½•ä¸‹ï¼Œä¸ç”¨æ‹…å¿ƒæ•°æ®ä¸¢å¤±



## äº”ã€ä¸€äº›è¯´æ˜
* æœ¬é¡¹ç›®sslè¯ä¹¦æä¾›å•†ä¸ºletencrypt
* ç”³è¯·è¿‡ç¨‹éµå¾ªacmeåè®®
* éœ€è¦éªŒè¯åŸŸåæ‰€æœ‰æƒï¼Œä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼ï¼ˆç›®å‰æœ¬é¡¹ç›®ä»…æ”¯æŒdns-01ï¼‰
  * http-01ï¼š åœ¨ç½‘ç«™æ ¹ç›®å½•ä¸‹æ”¾ç½®ä¸€ä»½txtæ–‡ä»¶
  * dns-01ï¼š éœ€è¦ç»™åŸŸåæ·»åŠ txtè§£æè®°å½•ï¼Œé€šé…ç¬¦åŸŸååªèƒ½ç”¨è¿™ç§æ–¹å¼
* è¯ä¹¦ç»­æœŸï¼š
  * å®é™…ä¸Šacmeå¹¶æ²¡æœ‰ç»­æœŸæ¦‚å¿µã€‚
  * æˆ‘ä»¬æ‰€è¯´çš„ç»­æœŸï¼Œå…¶å®å°±æ˜¯æŒ‰ç…§å…¨å¥—æµç¨‹é‡æ–°ç”³è¯·ä¸€ä»½æ–°è¯ä¹¦ã€‚
* å…è´¹è¯ä¹¦è¿‡æœŸæ—¶é—´90å¤©ï¼Œä»¥åå¯èƒ½è¿˜ä¼šç¼©çŸ­ï¼Œæ‰€ä»¥è‡ªåŠ¨åŒ–éƒ¨ç½²å¿…ä¸å¯å°‘
* è®¾ç½®æ¯å¤©è‡ªåŠ¨è¿è¡Œï¼Œå½“è¯ä¹¦è¿‡æœŸå‰20å¤©ï¼Œä¼šè‡ªåŠ¨é‡æ–°ç”³è¯·è¯ä¹¦å¹¶éƒ¨ç½²

## å…­ã€ä¸åŒå¹³å°çš„è®¾ç½®è¯´æ˜

* [Cloudflare](./doc/cf/cf.md)
* [è…¾è®¯äº‘](./doc/tencent/tencent.md)
* [windowsä¸»æœº](./doc/host/host.md)


## ä¸ƒã€é—®é¢˜å¤„ç†
### 7.1 å¿˜è®°ç®¡ç†å‘˜å¯†ç    
è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š
1. ä¿®æ”¹docker-compose.yamlæ–‡ä»¶ï¼Œå°†ç¯å¢ƒå˜é‡`certd_system_resetAdminPassword`æ”¹ä¸º`true`
```yaml
services:
  certd:
    environment: # ç¯å¢ƒå˜é‡
      - certd_system_resetAdminPassword=false
```
2. é‡å¯å®¹å™¨
```shell
docker compose up -d
docker logs -f --tail 500 certd
# è§‚å¯Ÿæ—¥å¿—ï¼Œå½“æ—¥å¿—ä¸­è¾“å‡ºâ€œé‡ç½®1å·ç®¡ç†å‘˜ç”¨æˆ·çš„å¯†ç å®Œæˆâ€ï¼Œå³å¯æ“ä½œä¸‹ä¸€æ­¥
```
3. ä¿®æ”¹docker-compose.yamlï¼Œå°†`certd_system_resetAdminPassword`æ”¹å›`false`
4. å†æ¬¡é‡å¯å®¹å™¨
```shell
docker compose up -d
```
5. ä½¿ç”¨admin/123456ç™»å½•ç³»ç»Ÿï¼Œè¯·åŠæ—¶ä¿®æ”¹ç®¡ç†å‘˜å¯†ç 

## å…«ã€è”ç³»ä½œè€…
å¦‚æœ‰ç–‘é—®ï¼Œæ¬¢è¿åŠ å…¥ç¾¤èŠï¼ˆè¯·å¤‡æ³¨certdï¼‰
* QQç¾¤ï¼š141236433
* å¾®ä¿¡ç¾¤ï¼š   
  ![](https://ai.handsfree.work/images/exchange_wxqroup.png)


åŠ ä½œè€…å¥½å‹
<p align="center">
<img height="230" src="./doc/images/me.png">
</p>

## ä¹ã€æèµ 
åª³å¦‡å„¿è¯´ï¼šâ€œä¸€å¤©åˆ°æ™šæå¼€æºï¼Œä¹Ÿä¸ç®¡ç®¡è€å©†å­©å­ï¼ğŸ˜¡ğŸ˜¡ğŸ˜¡â€        
æ‹œæ‰˜å„ä½æèµ æ”¯æŒä¸€ä¸‹ï¼Œè®©åª³å¦‡å„¿å¼€å¿ƒå¼€å¿ƒï¼Œæˆ‘ä¹Ÿèƒ½æœ‰æ›´å¤šæ—¶é—´è¿›è¡Œå¼€æºé¡¹ç›®ï¼Œæ„Ÿè°¢ğŸ™ğŸ™ğŸ™
<p align="center">
<img height="380" src="./doc/images/donate.png">
</p>


## åã€è´¡çŒ®ä»£ç 

[è´¡çŒ®æ’ä»¶æ•™ç¨‹](./plugin.md)


## åä¸€ã€æˆ‘çš„å…¶ä»–é¡¹ç›®
* [è¢–æ‰‹GPT](https://ai.handsfree.work/) ChatGPTï¼Œå›½å†…å¯ç”¨ï¼Œæ— éœ€FQï¼Œæ¯æ—¥å…è´¹é¢åº¦
* [fast-crud](https://gitee.com/fast-crud/fast-crud/) åŸºäºvue3çš„crudå¿«é€Ÿå¼€å‘æ¡†æ¶
* [dev-sidecar](https://github.com/docmirror/dev-sidecar/) ç›´è¿è®¿é—®githubå·¥å…·ï¼Œæ— éœ€FQï¼Œè§£å†³githubæ— æ³•è®¿é—®çš„é—®é¢˜


## åäºŒã€ç‰ˆæœ¬æ›´æ–°æ—¥å¿—
https://github.com/certd/certd/blob/v2/CHANGELOG.md